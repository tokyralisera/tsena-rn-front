<div class="w-64 bg-white border-r border-gray-200 flex flex-col fixed top-[64px] bottom-0" 
     style="height: calc(100vh - 64px);">
  
  <!-- Main Navigation -->
  <div class="flex-1 py-4">
    <nav class="px-4 space-y-1">
      <!-- Items du menu principal -->
      @for (item of filterMenuByRole(mainMenuItems); track item.label) {
        <!-- Items avec route -->
        @if (item.route && !item.action) {
          <a 
            [routerLink]="item.route" 
            routerLinkActive="bg-blue-100 text-blue-600"
            [routerLinkActiveOptions]="{ exact: true }"
            class="flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors group">
            
            <fa-icon [icon]="item.icon" class="w-5 h-5 mr-3 flex-shrink-0"></fa-icon>
            
            <span class="whitespace-nowrap">{{ item.label }}</span>
          </a>
        }
        
        <!-- Items avec action -->
        @if (item.action && !item.route) {
          <button 
            (click)="item.action!()"
            class="flex items-center w-full px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors group">
            
            <fa-icon [icon]="item.icon" class="w-5 h-5 mr-3 flex-shrink-0"></fa-icon>
            
            <span class="whitespace-nowrap">{{ item.label }}</span>
          </button>
        }
      }
    </nav>
  </div>

  <!-- Bottom Section -->
  <div class="border-t border-gray-200 p-4 space-y-1">
    <!-- Items du menu bas -->
    @for (item of filterMenuByRole(bottomMenuItems); track item.label) {
      <!-- Items avec route -->
      @if (item.route && !item.action) {
        <a 
          [routerLink]="item.route" 
          routerLinkActive="bg-blue-100 text-blue-600"
          class="flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors group">
          
          <fa-icon [icon]="item.icon" class="w-5 h-5 mr-3 flex-shrink-0"></fa-icon>
          
          <span class="whitespace-nowrap">{{ item.label }}</span>
        </a>
      }
      
      <!-- Items avec action -->
      @if (item.action && !item.route) {
        <button 
          (click)="item.action!()"
          class="flex items-center w-full px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors group">
          
          <fa-icon [icon]="item.icon" class="w-5 h-5 mr-3 flex-shrink-0"></fa-icon>
          
          <span class="whitespace-nowrap">{{ item.label }}</span>
        </button>
      }
    }
  </div>
</div>